1:"$Sreact.fragment"
2:I[58522,["/_next/static/chunks/1e02b7c5799ac6a1.js","/_next/static/chunks/3b6828ba17d8ab80.js","/_next/static/chunks/473a1be2867482bb.js","/_next/static/chunks/a5d1ba47f41dfe06.js"],""]
26:I[49558,["/_next/static/chunks/1e02b7c5799ac6a1.js","/_next/static/chunks/3b6828ba17d8ab80.js","/_next/static/chunks/473a1be2867482bb.js","/_next/static/chunks/a5d1ba47f41dfe06.js"],"AdSenseCard"]
27:I[9725,["/_next/static/chunks/1e02b7c5799ac6a1.js","/_next/static/chunks/3b6828ba17d8ab80.js","/_next/static/chunks/473a1be2867482bb.js","/_next/static/chunks/a5d1ba47f41dfe06.js"],"default"]
28:I[89864,["/_next/static/chunks/1e02b7c5799ac6a1.js","/_next/static/chunks/3b6828ba17d8ab80.js","/_next/static/chunks/473a1be2867482bb.js","/_next/static/chunks/a5d1ba47f41dfe06.js"],"default"]
29:I[71933,["/_next/static/chunks/be77d35d8dddc77a.js","/_next/static/chunks/0a126d9629c9d34c.js"],"OutletBoundary"]
2a:"$Sreact.suspense"
:HL["https://blog-cdn.everhour.com/blog/wp-content/uploads/2023/02/h2jfrvzrbyh1yff2n3wfu2hkqqps6x_uvqo.jpg","image"]
0:{"buildId":"wycode_has_super_power","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"container mx-auto w-full p-4","children":[["$","article",null,{"className":"card shadow bg-base-100 p-4 mb-4","children":[["$","h1",null,{"className":"text-2xl text-slate-800 dark:text-slate-200 font-extrabold text-center","children":"使用Github Action进行持续集成"}],["$","div",null,{"className":"flex justify-between text-sm mb-4 flex-wrap gap-2","children":[["$","span",null,{"className":"flex items-center","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","aria-hidden":"true","data-slot":"icon","className":"inline mr-1 h-5","children":[null,["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}]]}],"2020-10-28"]}],["$","$L2",null,{"href":"/blog/category/ci-cd","className":"flex items-center px-3 py-1 bg-pink-50 hover:bg-pink-100 dark:bg-pink-900/30 dark:hover:bg-pink-900/50 text-sm rounded-full","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","aria-hidden":"true","data-slot":"icon","className":"inline mr-1 h-4 mb-0.5","children":[null,["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}]]}],"CI CD"]}]]}],["$","div",null,{"className":"flex items-center gap-2 mb-4","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","aria-hidden":"true","data-slot":"icon","className":"inline h-5","children":[null,["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}],["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M6 6h.008v.008H6V6Z"}]]}],["$","div",null,{"className":"flex flex-wrap gap-1","children":[["$","$L2","Github",{"href":"/blog/tag/github","className":"px-2 bg-pink-50 hover:bg-pink-100 dark:bg-pink-900/30 dark:hover:bg-pink-900/50 text-sm rounded-full","children":"Github"}],["$","$L2","NodeJS",{"href":"/blog/tag/nodejs","className":"px-2 bg-pink-50 hover:bg-pink-100 dark:bg-pink-900/30 dark:hover:bg-pink-900/50 text-sm rounded-full","children":"NodeJS"}],["$","$L2","SFTP",{"href":"/blog/tag/sftp","className":"px-2 bg-red-50 hover:bg-red-100 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-sm rounded-full","children":"SFTP"}]]}]]}],["$","div",null,{"className":"mt-4","children":["$","div",null,{"className":"prose max-w-full","children":[["$","figure","img-0",{"className":"flex flex-col items-center","children":[["$","img",null,{"src":"https://blog-cdn.everhour.com/blog/wp-content/uploads/2023/02/h2jfrvzrbyh1yff2n3wfu2hkqqps6x_uvqo.jpg","alt":"Github Action","node":{"type":"element","tagName":"img","properties":{"src":"https://blog-cdn.everhour.com/blog/wp-content/uploads/2023/02/h2jfrvzrbyh1yff2n3wfu2hkqqps6x_uvqo.jpg","alt":"Github Action"},"children":[],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":120,"offset":120}}},"className":"mx-auto max-h-64 max-w-72"}],["$","figcaption",null,{"className":"text-sm text-gray-500 dark:text-gray-400 mt-1","children":"Github Action"}]]}],"\n",["$","blockquote","blockquote-0",{"children":["\n",["$","p","p-0",{"children":[["$","code","code-0",{"children":"Github Actions"}],"是由 Github 发布的持续集成(CI)/持续交付(CD)服务，对于公开的仓库是免费使用的。之前我们使用","$L3","，现在用","$L4","更方便了。"]}],"\n"]}],"\n","<!--more-->","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c"]}]}]]}],"$L1d","$L1e","$L1f"]}],["$L20","$L21"],"$L22"]}],"loading":null,"isPartial":false}
3:["$","code","code-1",{"children":"TravisCI"}]
4:["$","code","code-2",{"children":"Github Actions"}]
5:["$","h2","h2-0",{"children":"Actions"}]
6:["$","p","p-0",{"children":["通常一个持续集成的工作流通常包含很多的步骤，这个步骤做的事，称为一个",["$","code","code-0",{"children":"Action"}],"。"]}]
7:["$","p","p-1",{"children":["我们会写很多的",["$","code","code-0",{"children":"Action"}],"（配环境，拉代码，安装依赖，编译，测试，打包，部署），然后将它们组合到一起工作。"]}]
8:["$","h2","h2-1",{"children":"Github Marketplace"}]
9:["$","p","p-2",{"children":["组合可以是多种多样的，但是这些",["$","code","code-0",{"children":"Action"}],"通常都是类似的。所以 Github 利用自己开源的特点，所有人都可以将自己的",["$","code","code-1",{"children":"Action"}],"发布到",["$","code","code-2",{"children":"Github Marketplace"}],"中，供他人使用。"]}]
a:["$","p","p-3",{"children":["这意味着，你能想到的",["$","code","code-0",{"children":"Action"}],"几乎都已经被写好了，直接拿来用就行了，不用重复造轮子。"]}]
b:["$","p","p-4",{"children":"当然自己再造一个轮子也是很简单的。"}]
c:["$","h2","h2-2",{"children":"一个典型的 workflow"}]
23:T1fd6,<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:light-dark(#ffffff, #121212);--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;color:light-dark(#393a34, #dbd7caee);--shiki-light:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">name</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D"> Node.js CI</span></span>
<span class="line"></span>
<span class="line"><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375">on</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666"> [</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">push</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">]</span><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # push代码时执行</span></span>
<span class="line"></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">jobs</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">  build</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # jobs名称</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    runs-on</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D"> ubuntu-latest</span><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # 操作系统</span></span>
<span class="line"></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    strategy</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">      matrix</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">        node-version</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666"> [</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">8.x</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D"> 10.x</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D"> 12.x</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">]</span><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # node版本</span></span>
<span class="line"></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    steps</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">      -</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965"> uses</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D"> actions/checkout@v2</span><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # 引用action：拉代码</span></span>
<span class="line"><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">      -</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965"> name</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D"> Use Node.js ${{ matrix.node-version }}</span><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # 引用action：配置node环境</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">        uses</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D"> actions/setup-node@v1</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">        with</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">          node-version</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D"> ${{ matrix.node-version }}</span></span>
<span class="line"><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">      -</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965"> run</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D"> npm install</span><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # 跑命令：安装依赖</span></span>
<span class="line"><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">      -</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965"> run</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D"> npm run build --if-present</span><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # 跑命令：安装依赖</span></span>
<span class="line"><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">      -</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965"> run</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D"> npm test</span><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # 跑命令：执行测试</span></span>
<span class="line"></span></code></pre>d:["$","div","pre-0",{"dangerouslySetInnerHTML":{"__html":"$23"}}]
e:["$","h2","h2-3",{"children":"使用密码参数"}]
f:["$","p","p-5",{"children":["当我们要部署时，有时会用到服务器密码，我们不能直接配置在",["$","code","code-0",{"children":"workflow"}],"脚本中。这时就要使用密码参数。"]}]
10:["$","ol","ol-0",{"children":["\n",["$","li","li-0",{"children":"在仓库设置（Settings）页面"}],"\n",["$","li","li-1",{"children":"添加密码（Add a new secret）"}],"\n",["$","li","li-2",{"children":["使用 ",["$","code","code-0",{"children":"$${{secrets.NAME}}"}]," 引用密码（替换",["$","code","code-1",{"children":"NAME"}],"为你设置的密码名称）"]}],"\n"]}]
11:["$","p","p-6",{"children":"举个例子:"}]
24:T135d,<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:light-dark(#ffffff, #121212);--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;color:light-dark(#393a34, #dbd7caee);--shiki-light:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># Deploy</span></span>
<span class="line"><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">-</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965"> name</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D"> SFTP uploader</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">  uses</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D"> wangyucode/sftp-upload-action@v1.1</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">  with</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    host</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">wycode.cn</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    port</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#2F798A, #4C9A91);--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 22</span><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # optional, default is 22</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    username</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D"> ${{ secrets.SERVER_USERNAME }}</span><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # optional, default is root</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    password</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D"> ${{ secrets.SERVER_PASSWORD }}</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    localDir</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">dist</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    remoteDir</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">/var/www/dealer/</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    dryRun</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375"> false</span><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # optional</span></span>
<span class="line"></span></code></pre>12:["$","div","pre-1",{"dangerouslySetInnerHTML":{"__html":"$24"}}]
13:["$","blockquote","blockquote-1",{"children":["\n",["$","p","p-0",{"children":"注意： 不要使用命令传递密码，应使用环境变量或 action 的输入。"}],"\n"]}]
14:["$","h2","h2-4",{"children":"自定义 Action（造轮子）"}]
15:["$","p","p-7",{"children":["可以使用",["$","code","code-0",{"children":"Docker"}],"或",["$","code","code-1",{"children":"JavaScript"}]]}]
16:["$","ol","ol-1",{"children":["\n",["$","li","li-0",{"children":"创建一个仓库"}],"\n",["$","li","li-1",{"children":"编写 action 定义文件"}],"\n",["$","li","li-2",{"children":"发布 action"}],"\n"]}]
17:["$","p","p-8",{"children":"我写的 sftp 部署 action 的例子："}]
25:T24bd,<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:light-dark(#ffffff, #121212);--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;color:light-dark(#393a34, #dbd7caee);--shiki-light:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">name</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">SFTP uploader</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">color</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">green</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">icon</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">upload</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">description</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">upload files to server via SFTP</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">inputs</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">  host</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    required</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375"> true</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">  port</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    required</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375"> false</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    default</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#2F798A, #4C9A91);--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 22</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">  username</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    required</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375"> false</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    default</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">root</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">  password</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    required</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375"> true</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">  localDir</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    required</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375"> true</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">  remoteDir</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    required</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375"> true</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">  dryRun</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    required</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375"> false</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">    default</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375"> false</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">runs</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">  using</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">node12</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">  main</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">dist/index.js</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"></span></code></pre>18:["$","div","pre-2",{"dangerouslySetInnerHTML":{"__html":"$25"}}]
19:["$","h2","h2-5",{"children":"完整例子"}]
1a:["$","p","p-9",{"children":["$","a","a-0",{"href":"https://github.com/wangyucode/dealer/blob/master/.github/workflows/main.yml","children":"https://github.com/wangyucode/dealer/blob/master/.github/workflows/main.yml"}]}]
1b:["$","p","p-10",{"children":["这是一个《谁是卧底发牌员》的网页应用，使用",["$","code","code-0",{"children":"AngularJS"}],"，线上地址：",["$","a","a-0",{"href":"https://wycode.cn/dealer/","children":"https://wycode.cn/dealer/"}],"。"]}]
1c:["$","p","p-11",{"children":"提交代码后，Github Action 会自动编译部署到线上。"}]
1d:["$","$L26",null,{}]
1e:["$","$L27",null,{}]
1f:["$","$L28",null,{"postId":"github-action"}]
20:["$","script","script-0",{"src":"/_next/static/chunks/473a1be2867482bb.js","async":true}]
21:["$","script","script-1",{"src":"/_next/static/chunks/a5d1ba47f41dfe06.js","async":true}]
22:["$","$L29",null,{"children":["$","$2a",null,{"name":"Next.MetadataOutlet","children":"$@2b"}]}]
2b:null
