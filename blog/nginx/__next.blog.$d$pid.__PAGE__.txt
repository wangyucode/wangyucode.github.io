1:"$Sreact.fragment"
2:I[58522,["/_next/static/chunks/1e02b7c5799ac6a1.js","/_next/static/chunks/3b6828ba17d8ab80.js","/_next/static/chunks/473a1be2867482bb.js","/_next/static/chunks/a5d1ba47f41dfe06.js"],""]
17:I[49558,["/_next/static/chunks/1e02b7c5799ac6a1.js","/_next/static/chunks/3b6828ba17d8ab80.js","/_next/static/chunks/473a1be2867482bb.js","/_next/static/chunks/a5d1ba47f41dfe06.js"],"AdSenseCard"]
18:I[9725,["/_next/static/chunks/1e02b7c5799ac6a1.js","/_next/static/chunks/3b6828ba17d8ab80.js","/_next/static/chunks/473a1be2867482bb.js","/_next/static/chunks/a5d1ba47f41dfe06.js"],"default"]
19:I[89864,["/_next/static/chunks/1e02b7c5799ac6a1.js","/_next/static/chunks/3b6828ba17d8ab80.js","/_next/static/chunks/473a1be2867482bb.js","/_next/static/chunks/a5d1ba47f41dfe06.js"],"default"]
1a:I[71933,["/_next/static/chunks/be77d35d8dddc77a.js","/_next/static/chunks/0a126d9629c9d34c.js"],"OutletBoundary"]
1b:"$Sreact.suspense"
:HL["https://nginx.org/nginx.png","image"]
0:{"buildId":"wycode_has_super_power","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"container mx-auto w-full p-4","children":[["$","article",null,{"className":"card shadow bg-base-100 p-4 mb-4","children":[["$","h1",null,{"className":"text-2xl text-slate-800 dark:text-slate-200 font-extrabold text-center","children":"Ubuntu16.04安装配置NGINX服务"}],["$","div",null,{"className":"flex justify-between text-sm mb-4 flex-wrap gap-2","children":[["$","span",null,{"className":"flex items-center","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","aria-hidden":"true","data-slot":"icon","className":"inline mr-1 h-5","children":[null,["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}]]}],"2018-06-23"]}],["$","$L2",null,{"href":"/blog/category/linux","className":"flex items-center px-3 py-1 bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/30 dark:hover:bg-blue-900/50 text-sm rounded-full","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","aria-hidden":"true","data-slot":"icon","className":"inline mr-1 h-4 mb-0.5","children":[null,["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}]]}],"Linux"]}]]}],["$","div",null,{"className":"flex items-center gap-2 mb-4","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","aria-hidden":"true","data-slot":"icon","className":"inline h-5","children":[null,["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}],["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M6 6h.008v.008H6V6Z"}]]}],["$","div",null,{"className":"flex flex-wrap gap-1","children":[["$","$L2","Linux",{"href":"/blog/tag/linux","className":"px-2 bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/30 dark:hover:bg-blue-900/50 text-sm rounded-full","children":"Linux"}],["$","$L2","NGINX",{"href":"/blog/tag/nginx","className":"px-2 bg-yellow-50 hover:bg-yellow-100 dark:bg-yellow-900/30 dark:hover:bg-yellow-900/50 text-sm rounded-full","children":"NGINX"}]]}]]}],["$","div",null,{"className":"mt-4","children":["$","div",null,{"className":"prose max-w-full","children":[["$","figure","img-0",{"className":"flex flex-col items-center","children":[["$","img",null,{"src":"https://nginx.org/nginx.png","alt":"NGINX","node":{"type":"element","tagName":"img","properties":{"src":"https://nginx.org/nginx.png","alt":"NGINX"},"children":[],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":38,"offset":38}}},"className":"mx-auto max-h-64 max-w-72"}],["$","figcaption",null,{"className":"text-sm text-gray-500 dark:text-gray-400 mt-1","children":"NGINX"}]]}],"\n",["$","p","p-0",{"children":["当我们需要在Ubuntu上部署SpringBoot服务时，通常正式环境需要将监听端口切换到80端口，或443端口，但是Ubuntu为了安全起见，普通用户是不能监听1024以下端口的。另外我们需要同时支持HTTP和HTTPS，貌似SpringBoot只支持监听1个端口，这时有很多解决方案。比如使用",["$","code","code-0",{"children":"sudo"}],"提升运行权限，也可以通过Linux防火墙iptables配置端口转发，把80端口转发到8080端口上等方式。"]}],"\n",["$","p","p-1",{"children":"但是...这都不是最优的解决方案，既然用到了端口转发，不如直接安装一个NGINX服务器，做反向代理，同时也能提供静态服务能力，未来还能简单地配置升级到集群，做负载均衡。"}],"\n",["$","blockquote","blockquote-0",{"children":["\n",["$","p","p-0",{"children":"NGINX是一款高性能Web服务器。配置简单，易扩展，并发能力强，可用于Web服务器，反向代理，负载均衡，邮件等。"}],"\n"]}],"\n","<!--more-->","\n","$L3","\n","$L4","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10"]}]}]]}],"$L11","$L12","$L13"]}],["$L14","$L15"],"$L16"]}],"loading":null,"isPartial":false}
3:["$","h2","h2-0",{"children":"安装NGINX"}]
4:["$","div","pre-0",{"dangerouslySetInnerHTML":{"__html":"<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:light-dark(#ffffff, #121212);--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;color:light-dark(#393a34, #dbd7caee);--shiki-light:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:light-dark(#B07D48, #BD976A);--shiki-light:#B07D48;--shiki-dark:#BD976A\">$sudo</span><span style=\"color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> apt install nginx</span></span>\n<span class=\"line\"></span></code></pre>"}}]
5:["$","p","p-2",{"children":"使用这一行命令，其实就可以了。\n这时直接访问我们的服务器ip，能看到NGINX的欢迎页面，就说明安装成功。"}]
6:["$","h2","h2-1",{"children":"配置nginx"}]
7:["$","p","p-3",{"children":[["$","code","code-0",{"children":"/etc/nginx/"}],"目录下有这么几个重要文件"]}]
8:["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":["\n",["$","p","p-0",{"children":["nginx.conf 是NGINX的配置文件，里面有一些基本配置，网上很多教程是直接修改这个文件配置服务什么的，看这个文件结构include了conf.d目录的所有",["$","code","code-0",{"children":".conf"}],"文件，我们自定义的配置应该写在conf.d目录中"]}],"\n"]}],"\n",["$","li","li-1",{"children":["\n",["$","p","p-0",{"children":["site-enabled 是当前启用的服务配置文件，里面有个",["$","code","code-0",{"children":"default"}],"链接到",["$","code","code-1",{"children":"site-available"}],"目录里。"]}],"\n"]}],"\n",["$","li","li-2",{"children":["\n",["$","p","p-0",{"children":"site-available 是备选的服务器配置文件"}],"\n"]}],"\n"]}]
9:["$","p","p-4",{"children":["从注释和目录结构，我们可以看到其良苦用心，不应该直接修改nginx.conf文件，而是将需要添加的服务器配置文件放到",["$","code","code-0",{"children":"site-available"}],"目录中。然后在",["$","code","code-1",{"children":"site-enabled"}],"目录创建要启用服务的",["$","code","code-2",{"children":"symbolic link"}],"到刚刚创建的配置文件。这样配置才能更方便，更具扩展性。"]}]
a:["$","h2","h2-2",{"children":"示例"}]
b:["$","p","p-5",{"children":"我这里配置了"}]
c:["$","p","p-6",{"children":"静态网站服务："}]
d:["$","pre","pre-1",{"children":["$","code","code-0",{"children":"server {\n\tlisten 80;\n\tlisten [::]:80;\n\n\tserver_name wycode.cn www.wycode.cn;\n\n\troot /var/www/wycode.cn;\n\tindex index.html;\n\n\tlocation / {\n\t\ttry_files $uri $uri/ =404;\n\t}\n}\n"}]}]
e:["$","p","p-7",{"children":"SpringBoot 后台api反向代理"}]
f:["$","pre","pre-2",{"children":["$","code","code-0",{"children":"server {\n\tlisten 80;\n\tlisten [::]:80;\n\n\tserver_name wycode.cn www.wycode.cn;\n\n\tlocation /api {\n\t\tproxy_pass http://127.0.0.1:8080/api/;\n\t\tproxy_set_header   Host             $host;\n\t\tproxy_set_header   X-Real-IP        $remote_addr;\n\t\tproxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\n\t}\n}\n"}]}]
10:["$","p","p-8",{"children":"以上，转载请联系作者!"}]
11:["$","$L17",null,{}]
12:["$","$L18",null,{}]
13:["$","$L19",null,{"postId":"nginx"}]
14:["$","script","script-0",{"src":"/_next/static/chunks/473a1be2867482bb.js","async":true}]
15:["$","script","script-1",{"src":"/_next/static/chunks/a5d1ba47f41dfe06.js","async":true}]
16:["$","$L1a",null,{"children":["$","$1b",null,{"name":"Next.MetadataOutlet","children":"$@1c"}]}]
1c:null
