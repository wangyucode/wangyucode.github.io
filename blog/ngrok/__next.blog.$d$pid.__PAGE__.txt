1:"$Sreact.fragment"
2:I[58522,["/_next/static/chunks/1e02b7c5799ac6a1.js","/_next/static/chunks/3b6828ba17d8ab80.js","/_next/static/chunks/473a1be2867482bb.js","/_next/static/chunks/a5d1ba47f41dfe06.js"],""]
1d:I[49558,["/_next/static/chunks/1e02b7c5799ac6a1.js","/_next/static/chunks/3b6828ba17d8ab80.js","/_next/static/chunks/473a1be2867482bb.js","/_next/static/chunks/a5d1ba47f41dfe06.js"],"AdSenseCard"]
1e:I[9725,["/_next/static/chunks/1e02b7c5799ac6a1.js","/_next/static/chunks/3b6828ba17d8ab80.js","/_next/static/chunks/473a1be2867482bb.js","/_next/static/chunks/a5d1ba47f41dfe06.js"],"default"]
1f:I[89864,["/_next/static/chunks/1e02b7c5799ac6a1.js","/_next/static/chunks/3b6828ba17d8ab80.js","/_next/static/chunks/473a1be2867482bb.js","/_next/static/chunks/a5d1ba47f41dfe06.js"],"default"]
20:I[71933,["/_next/static/chunks/be77d35d8dddc77a.js","/_next/static/chunks/0a126d9629c9d34c.js"],"OutletBoundary"]
21:"$Sreact.suspense"
:HL["https://www.howtogeek.com/thumbcache/2/200/b47f24b18abd7d5411b75447849e04ff/wp-content/uploads/2017/03/why-is-a-network-tunnel-called-a-tunnel-00.jpg","image"]
:HL["https://camo.githubusercontent.com/f2d698991e6a0411680413ebcc15a6460b8beda3/68747470733a2f2f6e67726f6b2e636f6d2f7374617469632f696d672f6f766572766965772e706e67","image"]
:HL["https://github.com/fatedier/frp/raw/master/doc/pic/architecture.png","image"]
0:{"buildId":"wycode_has_super_power","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"container mx-auto w-full p-4","children":[["$","article",null,{"className":"card shadow bg-base-100 p-4 mb-4","children":[["$","h1",null,{"className":"text-2xl text-slate-800 dark:text-slate-200 font-extrabold text-center","children":"实现内网穿透的最新姿势"}],["$","div",null,{"className":"flex justify-between text-sm mb-4 flex-wrap gap-2","children":[["$","span",null,{"className":"flex items-center","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","aria-hidden":"true","data-slot":"icon","className":"inline mr-1 h-5","children":[null,["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}]]}],"2019-09-02"]}],["$","$L2",null,{"href":"/blog/category/linux","className":"flex items-center px-3 py-1 bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/30 dark:hover:bg-blue-900/50 text-sm rounded-full","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","aria-hidden":"true","data-slot":"icon","className":"inline mr-1 h-4 mb-0.5","children":[null,["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}]]}],"Linux"]}]]}],["$","div",null,{"className":"flex items-center gap-2 mb-4","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","aria-hidden":"true","data-slot":"icon","className":"inline h-5","children":[null,["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}],["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M6 6h.008v.008H6V6Z"}]]}],["$","div",null,{"className":"flex flex-wrap gap-1","children":[["$","$L2","Linux",{"href":"/blog/tag/linux","className":"px-2 bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/30 dark:hover:bg-blue-900/50 text-sm rounded-full","children":"Linux"}]]}]]}],["$","div",null,{"className":"mt-4","children":["$","div",null,{"className":"prose max-w-full","children":[["$","figure","img-0",{"className":"flex flex-col items-center","children":[["$","img",null,{"src":"https://www.howtogeek.com/thumbcache/2/200/b47f24b18abd7d5411b75447849e04ff/wp-content/uploads/2017/03/why-is-a-network-tunnel-called-a-tunnel-00.jpg","alt":"Network","node":{"type":"element","tagName":"img","properties":{"src":"https://www.howtogeek.com/thumbcache/2/200/b47f24b18abd7d5411b75447849e04ff/wp-content/uploads/2017/03/why-is-a-network-tunnel-called-a-tunnel-00.jpg","alt":"Network"},"children":[],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":162,"offset":162}}},"className":"mx-auto max-h-64 max-w-72"}],["$","figcaption",null,{"className":"text-sm text-gray-500 dark:text-gray-400 mt-1","children":"Network"}]]}],"\n",["$","p","p-0",{"children":"当我们需要在外网访问处于内网的服务时，就需要内网穿透这个技术了。"}],"\n",["$","p","p-1",{"children":"本文介绍实现内网穿透的多种方式"}],"\n","<!--more-->","\n",["$","h2","h2-0",{"children":"有外网IP"}],"\n",["$","p","p-2",{"children":"如果你的宽带接入是有外网IP的，那很简单，只需要设置路由器的端口转发就可以了。"}],"\n",["$","p","p-3",{"children":"查看自己是不是有外网IP也很简单，查看路由器获取到的IP和真实的外网IP是否一致就知道了。"}],"\n",["$","p","p-4",{"children":"真实外网IP，通过搜索引擎搜索IP即可获取。"}],"\n",["$","p","p-5",{"children":"由于现在小区宽带都是接入到服务商的大路由上，IPV4的资源也很珍贵，所以基本都是没有外网IP的，本文重点讨论没有外网IP的情况。"}],"\n","$L3","\n","$L4","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16"]}]}]]}],"$L17","$L18","$L19"]}],["$L1a","$L1b"],"$L1c"]}],"loading":null,"isPartial":false}
3:["$","h2","h2-1",{"children":"付费方案"}]
4:["$","p","p-6",{"children":["$","a","a-0",{"href":"https://www.oray.com","children":"https://www.oray.com"}]}]
5:["$","p","p-7",{"children":"花生壳提供软件解决方案，同时他们也提供能够实现穿透的硬件方案。"}]
6:["$","p","p-8",{"children":["当然还有",["$","code","code-0",{"children":"NAT123"}],"，但是他们的官网就像是上个世纪的网站，还是算了吧。"]}]
7:["$","h2","h2-2",{"children":"ngrok"}]
8:["$","figure","img-1",{"className":"flex flex-col items-center","children":[["$","img",null,{"src":"https://camo.githubusercontent.com/f2d698991e6a0411680413ebcc15a6460b8beda3/68747470733a2f2f6e67726f6b2e636f6d2f7374617469632f696d672f6f766572766965772e706e67","alt":"Network","node":{"type":"element","tagName":"img","properties":{"src":"https://camo.githubusercontent.com/f2d698991e6a0411680413ebcc15a6460b8beda3/68747470733a2f2f6e67726f6b2e636f6d2f7374617469632f696d672f6f766572766965772e706e67","alt":"Network"},"children":[],"position":{"start":{"line":30,"column":1,"offset":553},"end":{"line":30,"column":171,"offset":723}}},"className":"mx-auto max-h-64 max-w-72"}],["$","figcaption",null,{"className":"text-sm text-gray-500 dark:text-gray-400 mt-1","children":"Network"}]]}]
9:["$","p","p-9",{"children":["ngrok1.x是开源的，地址在这：",["$","a","a-0",{"href":"https://github.com/inconshreveable/ngrok","children":"https://github.com/inconshreveable/ngrok"}],"\nngrok2.x是闭源的，官网在这：",["$","a","a-1",{"href":"https://ngrok.com","children":"https://ngrok.com"}]]}]
a:["$","p","p-10",{"children":"ngrok商业化之后估计1.x就很少维护了，2.x目前是有限制的免费。"}]
b:["$","h2","h2-3",{"children":"frp"}]
c:["$","figure","img-2",{"className":"flex flex-col items-center","children":[["$","img",null,{"src":"https://github.com/fatedier/frp/raw/master/doc/pic/architecture.png","alt":"Network","node":{"type":"element","tagName":"img","properties":{"src":"https://github.com/fatedier/frp/raw/master/doc/pic/architecture.png","alt":"Network"},"children":[],"position":{"start":{"line":39,"column":1,"offset":931},"end":{"line":39,"column":80,"offset":1010}}},"className":"mx-auto max-h-64 max-w-72"}],["$","figcaption",null,{"className":"text-sm text-gray-500 dark:text-gray-400 mt-1","children":"Network"}]]}]
d:["$","p","p-11",{"children":[["$","code","code-0",{"children":"frp"}],"是一个开源的内网穿透的反向代理应用，支持 tcp, udp 协议。"]}]
e:["$","p","p-12",{"children":["$","a","a-0",{"href":"https://github.com/fatedier/frp","children":"https://github.com/fatedier/frp"}]}]
f:["$","p","p-13",{"children":["用户通过访问一个装有",["$","code","code-0",{"children":"frps"}],"的公网服务器，由服务器代理访问处于内网，并安装了",["$","code","code-1",{"children":"frpc"}],"的内网服务"]}]
10:["$","p","p-14",{"children":"配置方式，请参考他们的github仓库"}]
11:["$","h2","h2-4",{"children":"v2ray"}]
12:["$","p","p-15",{"children":[["$","code","code-0",{"children":"v2ray"}],"通常用于科学上网，但是由于一个 V2Ray 进程可并发支持多个入站和出站协议，所以它也可以用于内网穿透。"]}]
13:["$","p","p-16",{"children":"反向代理的大致工作原理如下:"}]
14:["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":"假设在主机 A 中有一个网页服务器，这台主机没有公网 IP，无法在公网上直接访问。另有一台主机 B，它可以由公网访问。现在我们需要把 B 作为入口，把流量从 B 转发到 A。"}],"\n",["$","li","li-1",{"children":"在主机 A 中配置一个 V2Ray，称为bridge，在 B 中也配置一个 V2Ray，称为portal。"}],"\n",["$","li","li-2",{"children":"bridge会向portal主动建立连接，此连接的目标地址可以自行设定。portal会收到两种连接，一是由bridge发来的连接，二是公网用户发来的连接。portal会自动将两类连接合并。于是bridge就可以收到公网流量了。"}],"\n",["$","li","li-3",{"children":"bridge在收到公网流量之后，会将其原封不动地发给主机 A 中的网页服务器。当然，这一步需要路由的协作。"}],"\n",["$","li","li-4",{"children":"bridge会根据流量的大小进行动态的负载均衡。"}],"\n"]}]
15:["$","p","p-17",{"children":"具体配置请参考官网及github"}]
16:["$","p","p-18",{"children":[["$","a","a-0",{"href":"https://www.v2ray.com","children":"https://www.v2ray.com"}],"\n",["$","a","a-1",{"href":"https://github.com/V2Ray/v2ray-core","children":"https://github.com/V2Ray/v2ray-core"}]]}]
17:["$","$L1d",null,{}]
18:["$","$L1e",null,{}]
19:["$","$L1f",null,{"postId":"ngrok"}]
1a:["$","script","script-0",{"src":"/_next/static/chunks/473a1be2867482bb.js","async":true}]
1b:["$","script","script-1",{"src":"/_next/static/chunks/a5d1ba47f41dfe06.js","async":true}]
1c:["$","$L20",null,{"children":["$","$21",null,{"name":"Next.MetadataOutlet","children":"$@22"}]}]
22:null
