1:"$Sreact.fragment"
2:I[58522,["/_next/static/chunks/1e02b7c5799ac6a1.js","/_next/static/chunks/3b6828ba17d8ab80.js","/_next/static/chunks/473a1be2867482bb.js","/_next/static/chunks/a5d1ba47f41dfe06.js"],""]
14:I[49558,["/_next/static/chunks/1e02b7c5799ac6a1.js","/_next/static/chunks/3b6828ba17d8ab80.js","/_next/static/chunks/473a1be2867482bb.js","/_next/static/chunks/a5d1ba47f41dfe06.js"],"AdSenseCard"]
15:I[9725,["/_next/static/chunks/1e02b7c5799ac6a1.js","/_next/static/chunks/3b6828ba17d8ab80.js","/_next/static/chunks/473a1be2867482bb.js","/_next/static/chunks/a5d1ba47f41dfe06.js"],"default"]
16:I[89864,["/_next/static/chunks/1e02b7c5799ac6a1.js","/_next/static/chunks/3b6828ba17d8ab80.js","/_next/static/chunks/473a1be2867482bb.js","/_next/static/chunks/a5d1ba47f41dfe06.js"],"default"]
17:I[71933,["/_next/static/chunks/be77d35d8dddc77a.js","/_next/static/chunks/0a126d9629c9d34c.js"],"OutletBoundary"]
18:"$Sreact.suspense"
:HL["/images/20180623_springboot.jpg","image"]
3:Tc36,<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:light-dark(#ffffff, #121212);--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;color:light-dark(#393a34, #dbd7caee);--shiki-light:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">    "</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">code</span><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#2F798A, #4C9A91);--shiki-light:#2F798A;--shiki-dark:#4C9A91">200</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">    "</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">message</span><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">hello world!</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">    "</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">data</span><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:{</span></span>
<span class="line"><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">        "</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">user</span><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:{}</span></span>
<span class="line"><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">    }</span></span>
<span class="line"><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">}</span></span>
<span class="line"></span></code></pre>0:{"buildId":"wycode_has_super_power","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"container mx-auto w-full p-4","children":[["$","article",null,{"className":"card shadow bg-base-100 p-4 mb-4","children":[["$","h1",null,{"className":"text-2xl text-slate-800 dark:text-slate-200 font-extrabold text-center","children":"SpringBoot工程自定义错误JSON字段"}],["$","div",null,{"className":"flex justify-between text-sm mb-4 flex-wrap gap-2","children":[["$","span",null,{"className":"flex items-center","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","aria-hidden":"true","data-slot":"icon","className":"inline mr-1 h-5","children":[null,["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}]]}],"2019-07-15"]}],["$","$L2",null,{"href":"/blog/category/backend","className":"flex items-center px-3 py-1 bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/30 dark:hover:bg-blue-900/50 text-sm rounded-full","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","aria-hidden":"true","data-slot":"icon","className":"inline mr-1 h-4 mb-0.5","children":[null,["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}]]}],"Backend"]}]]}],["$","div",null,{"className":"flex items-center gap-2 mb-4","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","aria-hidden":"true","data-slot":"icon","className":"inline h-5","children":[null,["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}],["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M6 6h.008v.008H6V6Z"}]]}],["$","div",null,{"className":"flex flex-wrap gap-1","children":[["$","$L2","Java",{"href":"/blog/tag/java","className":"px-2 bg-purple-50 hover:bg-purple-100 dark:bg-purple-900/30 dark:hover:bg-purple-900/50 text-sm rounded-full","children":"Java"}],["$","$L2","Kotlin",{"href":"/blog/tag/kotlin","className":"px-2 bg-green-50 hover:bg-green-100 dark:bg-green-900/30 dark:hover:bg-green-900/50 text-sm rounded-full","children":"Kotlin"}],["$","$L2","Spring",{"href":"/blog/tag/spring","className":"px-2 bg-pink-50 hover:bg-pink-100 dark:bg-pink-900/30 dark:hover:bg-pink-900/50 text-sm rounded-full","children":"Spring"}]]}]]}],["$","div",null,{"className":"mt-4","children":["$","div",null,{"className":"prose max-w-full","children":[["$","figure","img-0",{"className":"flex flex-col items-center","children":[["$","img",null,{"src":"/images/20180623_springboot.jpg","alt":"springboot","node":{"type":"element","tagName":"img","properties":{"src":"/images/20180623_springboot.jpg","alt":"springboot"},"children":[],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":47,"offset":47}}},"className":"mx-auto max-h-64 max-w-72"}],["$","figcaption",null,{"className":"text-sm text-gray-500 dark:text-gray-400 mt-1","children":"springboot"}]]}],"\n",["$","p","p-0",{"children":"通常我们为了统一，和前端方便处理，写的API返回JSON会有固定的结构，比如下面这种："}],"\n",["$","div","pre-0",{"dangerouslySetInnerHTML":{"__html":"$3"}}],"\n","$L4","\n","$L5","\n","$L6","\n","<!--more-->","\n","$L7","\n","$L8","\n","$L9","\n","$La"]}]}]]}],"$Lb","$Lc","$Ld"]}],["$Le","$Lf"],"$L10"]}],"loading":null,"isPartial":false}
4:["$","p","p-1",{"children":["但是当返回码为非200时，比如接口不存在",["$","code","code-0",{"children":"404"}],"，服务器错误",["$","code","code-1",{"children":"500"}],"，Spring默认会返回一个类似这样的结构："]}]
11:T1228,<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:light-dark(#ffffff, #121212);--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;color:light-dark(#393a34, #dbd7caee);--shiki-light:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">  "</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">timestamp</span><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">2019-07-19 10:23:47</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">  "</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">status</span><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#2F798A, #4C9A91);--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 403</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">  "</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">error</span><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">Forbidden</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">  "</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">message</span><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">没有权限</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">  "</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">path</span><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">/web/api/public/admin/dota/version</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">}</span></span>
<span class="line"></span></code></pre>5:["$","div","pre-1",{"dangerouslySetInnerHTML":{"__html":"$11"}}]
6:["$","p","p-2",{"children":"下面进行简单配置即可实现这个JSON结构的自定义："}]
12:T1f1c,<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:light-dark(#ffffff, #121212);--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;color:light-dark(#393a34, #dbd7caee);--shiki-light:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375">import</span><span style="color:light-dark(#59873A, #80A665);--shiki-light:#59873A;--shiki-dark:#80A665"> cn.wycode.web.DEV</span></span>
<span class="line"><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375">import</span><span style="color:light-dark(#59873A, #80A665);--shiki-light:#59873A;--shiki-dark:#80A665"> org.springframework.boot.web.servlet.error.DefaultErrorAttributes</span></span>
<span class="line"><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375">import</span><span style="color:light-dark(#59873A, #80A665);--shiki-light:#59873A;--shiki-dark:#80A665"> org.springframework.stereotype.Component</span></span>
<span class="line"><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375">import</span><span style="color:light-dark(#59873A, #80A665);--shiki-light:#59873A;--shiki-dark:#80A665"> org.springframework.web.context.request.WebRequest</span></span>
<span class="line"></span>
<span class="line"><span style="color:light-dark(#2E8F82, #5DA994);--shiki-light:#2E8F82;--shiki-dark:#5DA994">@Component</span></span>
<span class="line"><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375">class</span><span style="color:light-dark(#2E8F82, #5DA994);--shiki-light:#2E8F82;--shiki-dark:#5DA994"> WyErrorAttributes</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> : </span><span style="color:light-dark(#2E8F82, #5DA994);--shiki-light:#2E8F82;--shiki-dark:#5DA994">DefaultErrorAttributes</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="color:light-dark(#2E8F82, #5DA994);--shiki-light:#2E8F82;--shiki-dark:#5DA994">DEV</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">) { </span><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD">// #1</span></span>
<span class="line"><span style="color:light-dark(#AB5959, #CB7676);--shiki-light:#AB5959;--shiki-dark:#CB7676">    override</span><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375"> fun</span><span style="color:light-dark(#59873A, #80A665);--shiki-light:#59873A;--shiki-dark:#80A665"> getErrorAttributes</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">(webRequest: </span><span style="color:light-dark(#2E8F82, #5DA994);--shiki-light:#2E8F82;--shiki-dark:#5DA994">WebRequest</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">?, includeStackTrace: </span><span style="color:light-dark(#2E8F82, #5DA994);--shiki-light:#2E8F82;--shiki-dark:#5DA994">Boolean</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">): </span><span style="color:light-dark(#2E8F82, #5DA994);--shiki-light:#2E8F82;--shiki-dark:#5DA994">MutableMap</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">&#x3C;</span><span style="color:light-dark(#2E8F82, #5DA994);--shiki-light:#2E8F82;--shiki-dark:#5DA994">String</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">, </span><span style="color:light-dark(#2E8F82, #5DA994);--shiki-light:#2E8F82;--shiki-dark:#5DA994">Any</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">> {</span></span>
<span class="line"><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375">        val</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> errorAttributes </span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="color:light-dark(#A65E2B, #C99076);--shiki-light:#A65E2B;--shiki-dark:#C99076"> super</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:light-dark(#59873A, #80A665);--shiki-light:#59873A;--shiki-dark:#80A665">getErrorAttributes</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">(webRequest, includeStackTrace) </span><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD">// #2</span></span>
<span class="line"><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        errorAttributes[</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">"success"</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">] </span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375"> false</span><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> // #3</span></span>
<span class="line"><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        errorAttributes[</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">"error"</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">] </span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> errorAttributes[</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">"message"</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">] </span><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD">// #4</span></span>
<span class="line"><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        errorAttributes[</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">"data"</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">] </span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> errorAttributes[</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">"exception"</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">]  </span><span style="color:light-dark(#A0ADA0, #758575DD);--shiki-light:#A0ADA0;--shiki-dark:#758575DD">// #5</span></span>
<span class="line"><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375">        return</span><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> errorAttributes</span></span>
<span class="line"><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    }</span></span>
<span class="line"><span style="color:light-dark(#393A34, #DBD7CAEE);--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">}</span></span>
<span class="line"></span></code></pre>7:["$","div","pre-2",{"dangerouslySetInnerHTML":{"__html":"$12"}}]
8:["$","ol","ol-0",{"children":["\n",["$","li","li-0",{"children":["Spring默认的",["$","code","code-0",{"children":"DefaultErrorAttributes"}],"就写的挺好，我们继承并扩展一下就可以了，当然你也可以删除或者完全替换里面的结构。"]}],"\n",["$","li","li-1",{"children":["先使用默认的方法构建一个",["$","code","code-0",{"children":"errorAttributes"}],"。"]}],"\n",["$","li","li-2",{"children":["添加一个",["$","code","code-0",{"children":"success"}],"属性，既然是",["$","code","code-1",{"children":"ErrorAttributes"}],"当然是",["$","code","code-2",{"children":"false"}],"了。"]}],"\n",["$","li","li-3",{"children":["覆盖",["$","code","code-0",{"children":"error"}],"属性，改为",["$","code","code-1",{"children":"message"}],"。"]}],"\n",["$","li","li-4",{"children":["添加",["$","code","code-0",{"children":"data"}],"属性，在DEV环境时会添加错误的类信息。"]}],"\n"]}]
9:["$","p","p-3",{"children":"做了这个配置之后，错误信息的JSON会变成下面这样："}]
13:T1bb4,<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:light-dark(#ffffff, #121212);--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;color:light-dark(#393a34, #dbd7caee);--shiki-light:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">  "</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">timestamp</span><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">2019-07-19 16:56:41</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">  "</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">status</span><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#2F798A, #4C9A91);--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 500</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">  "</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">error</span><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">/ by zero</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">  "</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">exception</span><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">java.lang.ArithmeticException</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">  "</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">message</span><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">/ by zero</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">  "</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">path</span><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">/web/api/public/admin/dota/version</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">  "</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">success</span><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#1E754F, #4D9375);--shiki-light:#1E754F;--shiki-dark:#4D9375"> false</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">  "</span><span style="color:light-dark(#998418, #B8A965);--shiki-light:#998418;--shiki-dark:#B8A965">data</span><span style="color:light-dark(#99841877, #B8A96577);--shiki-light:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:light-dark(#B56959, #C98A7D);--shiki-light:#B56959;--shiki-dark:#C98A7D">java.lang.ArithmeticException</span><span style="color:light-dark(#B5695977, #C98A7D77);--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:light-dark(#999999, #666666);--shiki-light:#999999;--shiki-dark:#666666">}</span></span>
<span class="line"></span></code></pre>a:["$","div","pre-3",{"dangerouslySetInnerHTML":{"__html":"$13"}}]
b:["$","$L14",null,{}]
c:["$","$L15",null,{}]
d:["$","$L16",null,{"postId":"spring-error"}]
e:["$","script","script-0",{"src":"/_next/static/chunks/473a1be2867482bb.js","async":true}]
f:["$","script","script-1",{"src":"/_next/static/chunks/a5d1ba47f41dfe06.js","async":true}]
10:["$","$L17",null,{"children":["$","$18",null,{"name":"Next.MetadataOutlet","children":"$@19"}]}]
19:null
